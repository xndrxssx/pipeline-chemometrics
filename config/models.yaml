# ================================
# GLOBAL SETTINGS
# ================================
global:
  test_size: 0.30               # 20% external holdout
  random_state: 42
  n_jobs: 8
  scoring: "r2"                 # selection metric
  save_best_only: true
  output_dir: "../outputs/models"
  cv:
    primary: "kfold"
    kfold: 5                    # 5-fold CV
    loo: true                   # also run Leave-One-Out CV

# ================================
# MODELS DEFINITION + GRIDS
# ================================
models:

  # --- Regression Models ---
  pcr:
    enabled: true
    module: "modeling.pcr"
    class: "PCR"
    grid:
      n_components: [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]

  plsr:
    enabled: true
    module: "sklearn.cross_decomposition"
    class: "PLSRegression"
    grid:
      n_components: [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]

  # --- Classification Models (for 'Stage') ---
  pls_da:
    enabled: false # Enabled dynamically if target is 'Stage'
    type: "classification"
    module: "sklearn.cross_decomposition"
    class: "PLSRegression"
    grid:
      n_components: [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]

  rf_classifier:
    enabled: false # Enabled dynamically if target is 'Stage'
    type: "classification"
    module: "sklearn.ensemble"
    class: "RandomForestClassifier"
    grid:
      n_estimators: [100, 200, 500, 1000]
      max_depth: [5, 10, 20, 30, null]
      min_samples_split: [2, 5, 10]
      min_samples_leaf: [1, 2, 4]
      max_features: ["sqrt", "log2"]

  svc:
    enabled: false # Enabled dynamically if target is 'Stage'
    type: "classification"
    module: "sklearn.svm"
    class: "SVC"
    grid:
      C: [0.1, 1, 10, 100, 500]
      kernel: ["linear", "rbf"]
      gamma: ["scale", "auto", 0.01, 0.1]

  xgboost_classifier:
    enabled: false # Enabled dynamically if target is 'Stage'
    type: "classification"
    module: "xgboost"
    class: "XGBClassifier"
    params:
      tree_method: "hist"
    grid:
      n_estimators: [100, 200, 500]
      max_depth: [3, 5, 7, 10]
      learning_rate: [0.01, 0.05, 0.1, 0.2]
      subsample: [0.6, 0.8, 1.0]

  svr_linear:
    enabled: true
    module: "sklearn.svm"
    class: "SVR"
    kernel: "linear"
    grid:
      C: [0.01, 0.1, 1, 10, 100]
      epsilon: [0.001, 0.01, 0.1, 0.5, 1.0]

  svr_rbf:
    enabled: true
    module: "sklearn.svm"
    class: "SVR"
    kernel: "rbf"
    grid:
      C: [0.01, 0.1, 1, 10, 100]
      gamma: ["scale", "auto"]
      epsilon: [0.01, 0.1, 0.5]

  random_forest:
    enabled: true
    module: "sklearn.ensemble"
    class: "RandomForestRegressor"
    grid:
      n_estimators: [100, 200, 400]
      max_depth: [5, 10, 15]
      min_samples_split: [2, 4]
      min_samples_leaf: [1, 2]

  xgboost:
    enabled: true
    module: "xgboost"
    class: "XGBRegressor"
    params:
      tree_method: "hist"        # CPU optimal
    grid:
      max_depth: [3, 5, 7]
      learning_rate: [0.01, 0.05, 0.1]
      n_estimators: [100, 200, 400]
      subsample: [0.5, 0.75, 1.0]

  elastic_net:
    enabled: true
    module: "sklearn.linear_model"
    class: "ElasticNet"
    grid:
      alpha: [0.01, 0.1, 1.0, 5.0, 10.0]
      l1_ratio: [0.1, 0.3, 0.5, 0.7, 0.9]